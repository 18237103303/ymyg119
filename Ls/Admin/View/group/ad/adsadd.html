	

<link rel="stylesheet" href="__PUBLIC__/admin/assets/js/daterangepicker/daterangepicker-bs3.css">
  
<script src="__PUBLIC__/admin/assets/js/daterangepicker/daterangepicker.js"></script>
<script src="__PUBLIC__/admin/assets/js/datepicker/bootstrap-datepicker.js"></script>

			<div class="row">
				<div class="col-sm-12">
					<div class="panel panel-default">
						<div class="panel-heading">
							<h3 class="panel-title">广告添加 -- AD Add</h3>
							<div class="panel-options">
								<a href="#" data-toggle="panel">
									<span class="collapse-icon">&ndash;</span>
									<span class="expand-icon">+</span>
								</a>
								<a href="#" data-toggle="remove">
									
								</a>
							</div>
						</div>
						<div class="panel-body">
							<form  role="form" class="form-horizontal" action="{:U('Ad/adsadd')}" method="post" enctype="multipart/form-data" onsubmit="return checkform()">
								<div class="form-group">
									<label class="col-sm-2 control-label" for="field-1">广告标题</label>
									
									<div class="col-sm-10"><input class="form-control" type="text" name="name" id="name" placeholder="广告标题只是作为辨别多个广告条目之用，并不显示在广告中">
							        </div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group has-error">
									<label class="col-sm-2 control-label" for="field-6">广告类型</label>
									
									<div class="col-sm-10">
								                       <select class="form-control" name="ad_type" onchange="showMedia(this.value)">                             
                                                                  <option value="0">图片</option>

                                                                  <option value="1">文字</option>
                                                                  <!--<option value="2">文字</option>-->
                                                        </select>  
                                    </div>
								</div>

								<div class="form-group-separator"></div>
								<div class="form-group has-info">
									<label class="col-sm-2 control-label" for="field-6">广告位置</label>
									
									<div class="col-sm-10">
								                       <select class="form-control" name="position_id" id="position">            
								                                   <foreach name="position" item="v">

                                                                   <option value="{$v.position_id}">{$v.position_name}</option>
                                                                        
                                                                   </foreach>
                                                                   </select>
                                    </div>
								</div>
								
								<div class="form-group-separator"></div>
								
								<div class="form-group has-warning">
									<label class="col-sm-2 control-label" for="field-7">开始日期</label>
									
									<div class="col-sm-10">
										<input class="form-control datepicker" type="text" name='start_time' id="stime"  data-format="yyyy-m-d"/>
                                    </div>
								</div>
								
								<div class="form-group-separator"></div>
								
								<div class="form-group has-success">
									<label class="col-sm-2 control-label" for="field-8">结束日期</label>
									
									 <div class="col-sm-10">
									 	<input class="form-control datepicker" type="text" name='end_time' id="etime"  data-format="yyyy-m-d"/>
                                     </div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group has-info">
									<label class="col-sm-2 control-label" for="field-9">广告链接</label>
									
									 <div class="col-sm-10">
									 	<input class="form-control" type="text" id="url" name="ad_link" placeholder="正确填写的网址http://www.****.com ">
									</div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group has-error" id="0">
									<label class="col-sm-2 control-label" for="field-10">广告图片上传</label>
									
							    <div class="col-sm-10">
                                	<input class="form-control" type="file" name="ad_code">
								</div>
								</div>
								
								<div class="form-group has-error" id="1" style="display:none">
									<label class="col-sm-2 control-label" for="field-11">广告内容添加</label>
									
							    <div class="col-sm-10">
                                	<input class="form-control" type="textarea" name="ad_code"  style="width:450px;height:100px">
							    </div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group has-warning">
									<label class="col-sm-2 control-label" for="field-12">广告联系人</label>
									
							    <div class="col-sm-10">
							    	<input class="form-control" type="text" id="username"  name="linkman">
								</div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group has-success">
									<label class="col-sm-2 control-label" for="field-13">联系人电话</label>
									
							    <div class="col-sm-10">
							   		<input class="form-control" type="text" id="phonenum" name="linkphone">
							    </div>
								</div>
								<div class="form-group-separator"></div>
								<div class="form-group">
									
									<input type="submit" class="btn btn-info btn-single pull-right" value="确认添加">
								</div>
							</form>
						</div>
					</div>
				</div>
			</div>
			
	
       <script type="text/javascript">
  var MediaList = new Array('0','1');

  function showMedia(AdMediaType)
  {
    
    for (I = 0; I < MediaList.length; I ++)
    {

        
      if (MediaList[I] == AdMediaType){
      
        document.getElementById(AdMediaType).style.display = "";
        
      }
        
      else{
        document.getElementById(MediaList[I]).style.display = "none";
        
      }

        
    }
  }
      </script>

<script>

 function checkform(){

 var name=$("#name").val();
 var stime=$("#stime").val();
 var etime=$("#etime").val();
 var url=$("#url").val();
 var username=$("#username").val();
 var phonenum=$("#phonenum").val();
 var reg =/^1((3[2-9])||(7[4-9])||(5[0-9])||(5[0-9])||(8[0-9])||(82))\d{8}$/g;
 var reg1=/^\w+@\w+(\.\w+)+$/;
 var reg2=/^[1-9]\d{5}$/;
 var reg3=/^(http|https):\/\/([\w-]+\.)+[\w-]+(\/[\w-.\/?%&=]*)?$/;
 var reg4=new RegExp(/^([\u4E00-\uFA29]*[a-z]*[A-Z]*[0-9]*)+$/g);


if(name==""){
bootbox.alert("广告标题不能为空");
$("#name").focus();
return false;
}else if(!reg4.test(name)){
bootbox.alert("广告标题有特殊字符");
$("#name").focus()
return false;
}else if(stime==""){
bootbox.alert("请选择开始时间");
$("#stime").focus();
return false;
}else if(etime==""){
bootbox.alert("请选择结束时间");
$("#etime").focus();
return false;
}else if(!reg3.test(url)){
bootbox.alert("链接格式不对");
$("#url").focus()
return false;
}else if(username==""){
bootbox.alert("联系人不能为空");
$("#username").focus()
return false;
}else if(phonenum==""){
bootbox.alert("电话不能为空");
$("#phonenum").focus()
return false;
}else if(!reg.test(phonenum)){
bootbox.alert("手机号是错的");
$("#phonenum").focus()
return false;

}    

}


</script>
